(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){e.exports=a(432)},173:function(e,t,a){},423:function(e,t,a){e.exports=a.p+"static/media/whitecircle.272c2b10.jpg"},432:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(162),o=a.n(s),i=(a(173),a(13)),l=a(20),r=a(15),u=a(14),d=a(16),m=(a(66),a(72),a(70)),p=a.n(m),f=a(433),h=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"headerthing"},c.a.createElement("img",{style:{float:"left",transform:"scale(.4)"},src:p.a}),c.a.createElement("h3",{style:{marginLeft:"-20px"}},"Circles")),c.a.createElement("div",{className:"App"},c.a.createElement("br",null),c.a.createElement("h1",null,"Connect Smarter"),c.a.createElement("div",{style:{marginTop:"20vh"}},c.a.createElement(f.a,{to:"/login",className:"landing-button login-button waves-effect waves-light btn"},c.a.createElement("span",null,"Account")),c.a.createElement(f.a,{to:"/account",className:"landing-button login-button waves-effect waves-light btn"},c.a.createElement("span",null,"Scan")))))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).signin=function(){a.props.updateUID(document.getElementById("username").value),setTimeout(function(){a.props.history.push("/circles")},500)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Login"},c.a.createElement(f.a,{to:"/"},c.a.createElement("h3",{id:"name"},"Circles")),c.a.createElement("input",{id:"username",className:"login-field",type:"text",placeholder:"Username"}),c.a.createElement("a",{onClick:this.signin,className:"login-button waves-effect waves-light btn"},"Login"),c.a.createElement(f.a,{to:"/signup",className:"login-button waves-effect waves-light btn"},"Sign Up"))}}]),t}(n.Component),v=a(71),b=a(163),E=a.n(b),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={delay:300,result:"No result"},a.handleScan=a.handleScan.bind(Object(v.a)(Object(v.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleScan",value:function(e){e&&(window.location.href=e)}},{key:"handleError",value:function(e){console.error(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"Login"},c.a.createElement(E.a,{delay:this.state.delay,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),c.a.createElement("div",{className:"scan"},c.a.createElement(f.a,{style:{margin:"0 auto",marginTop:"50px",fontSize:"24px"},to:"/",class:"login-button waves-effect waves-light btn"},"GET OUT")))}}]),t}(n.Component),k=(a(195),a(164)),O=a.n(k);a(212);var w=O.a.initializeApp({apiKey:"AIzaSyCScaJlTOqHcsOZgoMwSs_Lp8ZZUkRj94w",authDomain:"circle-sdhacks2018.firebaseapp.com",databaseURL:"https://circle-sdhacks2018.firebaseio.com",projectId:"circle-sdhacks2018",storageBucket:"circle-sdhacks2018.appspot.com",messagingSenderId:"825553706957"}),N=w.auth(),j=w.database(),C={storage:w.storage(),auth:N,addConnection:function(e,t,a,n){j.ref(t+"/connections/"+e).update(a),j.ref(e+"/connected_with").update({uid:n})},addUser:function(e,t){j.ref(e+"/circles").update(t)},getAllConnections:function(e,t){j.ref(e+"/connected_with").once("value").then(function(a){var n={},c=[],s=a.val();Object.keys(s).forEach(function(t){n[t]={};var a=s[t];n[t].comment=a,c.push(j.ref(t+"/connections/"+e).once("value").then(function(e){var a=e.val(),c=[];return Object.keys(a).forEach(function(e){var s=a[e];c.push(j.ref(t+"/circles/"+s).once("value").then(function(e){n[t]=Object.assign({},n[t],e.val())}))}),c}))}),Promise.all(c).then(function(e){var a=e.flat();Promise.all(a).then(function(){t(n)})})})},getPersonalData:function(e,t){j.ref(e).once("value").then(function(e){t(e.val())})},getConnection:function(e,t,a){j.ref(e+"/circles/"+t).once("value").then(function(e){a(e.val())})}},x=a(64),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){},a.componentWillReceiveProps=function(e){a.setState({pageNo:parseInt(e.match.params.step),profile:e.location.state})},a.firstNameChange=function(e){a.setState({firstName:e.target.value})},a.lastNameChange=function(e){a.setState({lastName:e.target.value})},a.listData=function(e){console.log(JSON.stringify(e)),Object.keys(e).forEach(function(t){e[t].splice(1,0,"")}),console.log(e),a.setState({userAccounts:e})},a.contains=function(e,t){for(var a=e.length;a--;)if(JSON.stringify(e[a])==JSON.stringify(t))return!0;return!1},a.toggleCard=function(e,t){if(console.log(a.contains(a.state.selectedAccounts,t)),a.contains(a.state.selectedAccounts,t)){var n=a.state.selectedAccounts;n.splice(n.indexOf(t),1),console.log("hey wtf"),console.log(n),a.setState({selectedAccounts:n}),e.target.style.backgroundColor="rgba(0,0,0,0)"}else a.setState({selectedAccounts:a.state.selectedAccounts.concat(t)}),e.target.style.backgroundColor="rgba(0,0,0,0.4)";console.log(a.state.selectedAccounts)},a.gotoPage=function(e){window.open(e,"_blank")},a.nextPage=function(){var e=a.state.pageNo+1;a.setState({pageNo:e})},a.prevPage=function(){var e=a.state.pageNo-1;a.setState({pageNo:e})},a.addAccount=function(){var e=document.getElementById("account-type").value,t=document.getElementById("account-url").value,n=document.getElementById("account-comment").value,c={};c[e]=[t,"",n],a.setState({selectedAccounts:a.state.selectedAccounts.concat(c)}),document.getElementById("account-type").value="",document.getElementById("account-url").value="",document.getElementById("account-comment").value=""},a.renderStep=function(e){switch(e){case 1:return c.a.createElement("div",{className:"Login"},c.a.createElement("h4",{id:"subtext"},"1 | Name"),c.a.createElement("input",{className:"login-field",onChange:a.firstNameChange,type:"text",placeholder:"First Name",value:a.state.firstName}),c.a.createElement("input",{className:"login-field",onChange:a.lastNameChange,type:"text",placeholder:"Last Name",value:a.state.lastName}),c.a.createElement("a",{onClick:a.nextPage,className:"login-button waves-effect waves-light btn"},"Next"));case 2:if(!a.state.userAccounts){var t={Facebook:["https://www.facebook.com/ian.carrasco.92","https://scontent-lax3-1.xx.fbcdn.net/v/t1.0-1/p320x320/38924326_10209758689724385_5704585307827994624_n.jpg?_nc_cat=101&oh=07e5fd0772dc9c567a0bab0b7c5f1b1f&oe=5C5DFF66"],Twitter:["https://twitter.com/ia_n_ai","https://pbs.twimg.com/profile_images/1028139770474647552/ZtVPRnhO_400x400.jpg"],Github:["https://github.com/IanCarrasco",void 0],Linkedin:[void 0,void 0]};setTimeout(function(){a.listData(t)},500)}var n=[];return a.state.userAccounts&&Object.keys(a.state.userAccounts).forEach(function(e){var t=a.state.userAccounts[e][0];if(null!=t){var s=t.substring(t.lastIndexOf("/")+1);-1!=s.lastIndexOf("?")&&(s=s.substring(0,s.lastIndexOf("?"))),null==a.state.userAccounts[e][2]&&(a.state.userAccounts[e][2]="http://busybridgeng.com/wp-content/uploads/2017/05/generic-avatar.png");var o={};o[e]=a.state.userAccounts[e],n.push(c.a.createElement("div",{key:e,onClick:function(e){a.toggleCard(e,o)},className:"accountCard"},c.a.createElement("img",{onClick:function(){a.gotoPage(t)},className:"accountCardImage",src:a.state.userAccounts[e][2]}),c.a.createElement("h3",null,e,c.a.createElement("br",null),c.a.createElement("h5",null,s))))}}),c.a.createElement("div",{className:"Login"},c.a.createElement("h4",{id:"subtext"},"2 | Social Accounts"),c.a.createElement("h4",{id:"subtext"},"Suggested"),n,c.a.createElement("a",{onClick:function(){a.prevPage(),a.setState({userAccounts:void 0})},className:"login-button waves-effect waves-light btn"},"Back"),c.a.createElement("a",{onClick:a.nextPage,className:"login-button waves-effect waves-light btn"},"Next"));case 3:return c.a.createElement("div",{className:"Login"},c.a.createElement("h3",{id:"name"},"3 | Other Accounts"),c.a.createElement("h4",{id:"subtext"},"Add Accounts"),c.a.createElement("input",{id:"account-type",className:"login-field",type:"text",placeholder:"Account Type (i.e. Facebook, Instagram)"}),c.a.createElement("input",{id:"account-url",className:"login-field",type:"text",placeholder:"Url"}),c.a.createElement("input",{id:"account-comment",className:"login-field",type:"text",placeholder:"Comment"}),c.a.createElement("button",{onClick:a.addAccount,className:"login-button waves-effect waves-light btn"},"Add"),c.a.createElement("a",{onClick:a.nextPage,className:"login-button waves-effect waves-light btn"},"Next"));case 4:var s={};return a.state.selectedAccounts.forEach(function(e){var t=Object.keys(e)[0];s[t]=e[t]}),c.a.createElement(A,{accounts:s,history:a.props.history,firstName:a.state.firstName,lastName:a.state.lastName,updateUID:a.props.updateUID})}},a.render=function(){return c.a.createElement("div",null,a.renderStep(a.state.pageNo))},a.state={pageNo:1,firstName:"",lastName:"",userAccounts:void 0,selectedAccounts:[]},a}return Object(d.a)(t,e),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).updateCircleSelection=function(e){var t=Object.assign({},a.state.circles),n=a.state.selected;if(t&&n){if(t[n]&&t[n].includes(e)){var c=t[n].indexOf(e);t[n].splice(c,1)}else t[n].push(e);a.setState({circles:t})}},a.changeCircle=function(e){a.setState({selected:e})},a.addCircle=function(){var e=Object.assign({},a.state.circles);e[document.getElementById("add_circle").value]=[],a.setState({circles:e})},a.finished=function(){var e=a.props.firstName+" "+a.props.lastName,t={};if(Object.keys(a.state.circles).forEach(function(e){var n={};a.state.circles[e].forEach(function(e){var t=[];a.props.accounts[e].forEach(function(e){e&&t.push(e)}),0!==t.length&&(n[e]=a.props.accounts[e])}),t[e]=n}),C.addUser(e,t),a.props.updateUID(e),a.cookies.get("connections")){var n=a.cookies.get("connections");Object.keys(n).forEach(function(t){C.addConnection(e,t,Object.keys(n.other_uid))})}setTimeout(function(){a.props.history.push("/circles")},500)},a.render=function(){var e=[];Object.keys(a.state.circles).forEach(function(t){t==a.state.selected?e.push(c.a.createElement("div",{key:t,onClick:function(){a.changeCircle(t)},className:"circle chosen",style:{backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"10px"}},c.a.createElement("p",{style:{paddingLeft:"10px"}},t))):e.push(c.a.createElement("div",{key:t,onClick:function(){a.changeCircle(t)},className:"circle",style:{backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"10px"}},c.a.createElement("p",{style:{paddingLeft:"10px"}},t)))});var t=[];return Object.keys(a.props.accounts).forEach(function(e){a.state.circles[a.state.selected]&&a.state.circles[a.state.selected].includes(e)?t.push(c.a.createElement("div",{key:e,onClick:function(){a.updateCircleSelection(e)},className:"account chosen",style:{backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"10px"}},c.a.createElement("p",{style:{paddingLeft:"10px"}},e))):t.push(c.a.createElement("div",{key:e,onClick:function(){a.updateCircleSelection(e)},className:"account",style:{backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"10px"}},c.a.createElement("p",{style:{paddingLeft:"10px"}},e)))}),c.a.createElement("div",{className:"Connect Login"},c.a.createElement("h3",null,"Circles"),c.a.createElement("div",null,c.a.createElement("input",{id:"add_circle",placeholder:"personal"}),c.a.createElement("button",{className:"login-button waves-effect waves-light btn",onClick:function(){a.addCircle()}},"Add circle")),e,c.a.createElement("h3",{style:{color:"white"}},"Accounts"),t,c.a.createElement("a",{onClick:a.prevPage,className:"login-button waves-effect waves-light btn"},"Back"),c.a.createElement("a",{onClick:function(){a.finished()},className:"login-button waves-effect waves-light btn"},"Done"))},a.cookies=new x.a,a.state={circles:{},selected:""},a}return Object(d.a)(t,e),t}(n.Component),I=a(30),L=(a(423),a(424),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).generateLink=function(e){return"http://localhost:3000/connect?uid="+a.props.uid+"&circle="+e},a.state={data:void 0,circles:void 0},a.name="",a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getCircles",value:function(){var e=this;C.getPersonalData(this.props.uid,function(t){e.setState({data:t});var a=e.state.data.circles;e.setState({circles:a})})}},{key:"componentDidMount",value:function(){this.getCircles()}},{key:"render",value:function(){var e=this,t=[],a={},n=[];return this.state.circles&&I.Object.keys(this.state.circles).forEach(function(e){t.push(e)}),t.length>0&&t.forEach(function(t){var c=[];I.Object.keys(e.state.circles[t]).forEach(function(e){a[t]=e,c.push(e)}),n.push({name:t,accounts:c})}),c.a.createElement("div",{className:"Connect Login",style:{padding:0}},c.a.createElement("h3",{className:"circles-home-name"},this.props.uid+"'s Circles:"),c.a.createElement("ul",null,n.map(function(e){return c.a.createElement("li",null,e.name," - ",e.accounts)})))}}]),t}(n.Component)),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){var t=new URLSearchParams(e),n=t.get("uid"),c=t.get("circle");a.props.uid&&C.addConnection(a.props.uid,n,c),C.getConnection(n,c,function(e){var t={};a.cookies.get("connections")&&(t=a.cookies.get("connections"));var s={};s[n]=e,t=I.Object.assign({},t,s),a.cookies.set("connections",t,{path:"/"}),a.setState({data:e,uid:n,circle:c})})},a.state={data:void 0},a.getData(a.props.location.search),a.cookies=new x.a,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[],a=void 0;return this.state.data&&(I.Object.keys(this.state.data).forEach(function(t){e.state.data[t][2]&&!a&&"comment"!==t&&(a=e.state.data[t][2])}),I.Object.keys(this.state.data).forEach(function(a){t.push(c.a.createElement("div",{key:a,className:"item"},c.a.createElement("h4",{style:{marginTop:0}},a),e.state.data[a][0]&&c.a.createElement("p",null,"Link to ",c.a.createElement("a",{href:e.state.data[a][0],target:"_blank"},a)),e.state.data[a][1]&&c.a.createElement("p",null,e.state.data[a][1])))})),c.a.createElement("div",{className:"Connect Login",style:{padding:0}},c.a.createElement("div",{style:{padding:"25px"}},c.a.createElement("div",null,"Contact information for"),c.a.createElement("div",{style:{overflow:"auto",display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}},c.a.createElement("h3",{style:{margin:"0px",float:"left"}},this.state.uid),a&&c.a.createElement("img",{style:{borderRadius:"50%",width:"30%",float:"right",paddingRight:"10px"},src:a}))),c.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},t),c.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},c.a.createElement(f.a,{to:"/",className:"login-button waves-effect waves-light btn"},"Home"),c.a.createElement(f.a,{to:"/connections",className:"login-button waves-effect waves-light btn"},"See All Connections")))}}]),t}(n.Component),U=function(e){function t(e){var a;if(Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={data:void 0},a.cookies=new x.a,a.props.uid)console.log("getting firebase shit"),C.getAllConnections(a.props.uid,function(e){a.setState({data:e})});else{var n={};a.cookies.get("connections")&&(n=a.cookies.get("connections")),a.state={data:n}}return a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];return this.state.data&&I.Object.keys(this.state.data).forEach(function(a,n){var s=void 0;I.Object.keys(e.state.data[a]).forEach(function(t){e.state.data[a][t][2]&&!s&&"comment"!==t&&(s=e.state.data[a][t][2])}),t.push(c.a.createElement("div",{className:"YEET",key:e.state.data[a].comment},c.a.createElement("h3",{style:{marginTop:0}},a),c.a.createElement("div",{className:"row",style:{display:"flex",alignItems:"center"}},s&&c.a.createElement("img",{style:{borderRadius:"50%",width:"30%",float:"left",paddingRight:"10px"},src:s}),e.state.data[a].comment&&c.a.createElement("p",{style:{paddingLeft:"10px"}},e.state.data[a].comment)))),delete e.state.data[a].comment,I.Object.keys(e.state.data[a]).forEach(function(n){t.push(c.a.createElement("div",{key:n,className:"item"},c.a.createElement("h4",{style:{marginTop:0}},n),e.state.data[a][n][0]&&c.a.createElement("p",null,"Link to ",c.a.createElement("a",{href:e.state.data[a][n][0],target:"_blank"},n)),e.state.data[a][n][1]&&c.a.createElement("p",null,e.state.data[a][n][1])))}),n!==I.Object.keys(e.state.data).length-1&&t.push(c.a.createElement("div",{className:"devider"}))}),c.a.createElement("div",{className:"Connect Login",style:{padding:0}},c.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},t),c.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},c.a.createElement(f.a,{to:"/",className:"login-button waves-effect waves-light btn"},"Home"),c.a.createElement(f.a,{to:"/circles",className:"login-button waves-effect waves-light btn"},"Share Circles"),!this.props.uid&&c.a.createElement(f.a,{to:"/signup",className:"login-button waves-effect waves-light btn"},"Sign up to save connections")))}}]),t}(n.Component),_=a(165),R=a.n(_),P=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Login"},c.a.createElement("div",{style:{padding:"10px",backgroundColor:"white",width:"fit-content",margin:"0 auto"}},c.a.createElement(R.a,{value:this.props.location.state.url})),c.a.createElement("p",{style:{color:"white",fontSize:"1.5rem",textAlign:"center"}},this.props.location.state.url),c.a.createElement(f.a,{to:"/circles",className:"login-button waves-effect waves-light btn"},"Home"))}}]),t}(n.Component),T=a(435),B=a(434),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).updateUID=function(e){a.setState({uid:e})},a.state={uid:void 0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.uid),c.a.createElement(T.a,null,c.a.createElement("div",null,c.a.createElement(B.a,{exact:!0,path:"/",component:h}),c.a.createElement(B.a,{path:"/login",component:function(t){return c.a.createElement(g,{history:t.history,updateUID:e.updateUID})}}),c.a.createElement(B.a,{path:"/account",component:y}),c.a.createElement(B.a,{path:"/connect",component:function(){return c.a.createElement(D,{uid:e.state.uid})}}),c.a.createElement(B.a,{path:"/circles",component:function(){return c.a.createElement(L,{uid:e.state.uid})}}),c.a.createElement(B.a,{path:"/signup",component:function(t){return c.a.createElement(S,{history:t.history,updateUID:e.updateUID})}}),c.a.createElement(B.a,{path:"/connections",component:function(){return c.a.createElement(U,{uid:e.state.uid})}}),c.a.createElement(B.a,{path:"/qrgenerator",component:P}),c.a.createElement(B.a,{path:"/landing",component:h})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,a){},70:function(e,t,a){e.exports=a.p+"static/media/symbol.db643675.svg"}},[[168,2,1]]]);
//# sourceMappingURL=main.56411c8e.chunk.js.map